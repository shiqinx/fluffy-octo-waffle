<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¯¼èˆªåŠŸèƒ½æµ‹è¯•</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .test-container {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        .test-button {
            display: inline-block;
            margin: 10px;
            padding: 12px 24px;
            background: #1989fa;
            color: white;
            text-decoration: none;
            border-radius: 6px;
            border: none;
            cursor: pointer;
            font-size: 16px;
            transition: background-color 0.3s;
        }
        .test-button:hover {
            background: #1677ff;
        }
        .test-button:visited {
            color: white;
        }
        .status {
            padding: 10px;
            margin: 10px 0;
            border-radius: 4px;
            font-weight: bold;
        }
        .success {
            background: #f0f9ff;
            color: #1890ff;
            border: 1px solid #91d5ff;
        }
        .error {
            background: #fff2f0;
            color: #ff4d4f;
            border: 1px solid #ffccc7;
        }
        .info {
            background: #f6ffed;
            color: #52c41a;
            border: 1px solid #b7eb8f;
        }
        iframe {
            width: 100%;
            height: 600px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        .test-section {
            margin: 20px 0;
            padding: 15px;
            border-left: 4px solid #1989fa;
            background: #f8f9fa;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <h1>ğŸ§­ å¯¼èˆªåŠŸèƒ½æµ‹è¯•</h1>
        <p>æ­¤é¡µé¢ç”¨äºæµ‹è¯•Vueåº”ç”¨çš„å¯¼èˆªåŠŸèƒ½æ˜¯å¦æ­£å¸¸å·¥ä½œ</p>
        
        <div class="test-section">
            <h3>ğŸ“± ç§»åŠ¨ç«¯æ¨¡æ‹Ÿæµ‹è¯•</h3>
            <p>åœ¨ä¸‹æ–¹iframeä¸­æµ‹è¯•åº”ç”¨çš„å¯¼èˆªåŠŸèƒ½ï¼š</p>
            <iframe src="/" id="app-frame"></iframe>
        </div>
        
        <div class="test-section">
            <h3>ğŸ”— ç›´æ¥é“¾æ¥æµ‹è¯•</h3>
            <p>ç‚¹å‡»ä»¥ä¸‹é“¾æ¥æµ‹è¯•å„ä¸ªé¡µé¢æ˜¯å¦å¯ä»¥æ­£å¸¸è®¿é—®ï¼š</p>
            
            <div>
                <h4>è®¤è¯ç›¸å…³é¡µé¢ï¼š</h4>
                <a href="/#/login" class="test-button" target="_blank">ç™»å½•é¡µé¢</a>
                <a href="/#/register" class="test-button" target="_blank">æ³¨å†Œé¡µé¢</a>
            </div>
            
            <div>
                <h4>ä¸»è¦åŠŸèƒ½é¡µé¢ï¼š</h4>
                <a href="/#/home" class="test-button" target="_blank">é¦–é¡µ</a>
                <a href="/#/activities-teams" class="test-button" target="_blank">æ´»åŠ¨/å›¢é˜Ÿ</a>
                <a href="/#/messages" class="test-button" target="_blank">æ¶ˆæ¯</a>
                <a href="/#/profile" class="test-button" target="_blank">ä¸ªäººä¸­å¿ƒ</a>
            </div>
            
            <div>
                <h4>æ´»åŠ¨ç›¸å…³é¡µé¢ï¼š</h4>
                <a href="/#/activities" class="test-button" target="_blank">æ´»åŠ¨åˆ—è¡¨</a>
                <a href="/#/activities/create" class="test-button" target="_blank">åˆ›å»ºæ´»åŠ¨</a>
                <a href="/#/activities/1" class="test-button" target="_blank">æ´»åŠ¨è¯¦æƒ…</a>
            </div>
        </div>
        
        <div class="test-section">
            <h3>ğŸ“Š æµ‹è¯•ç»“æœ</h3>
            <div id="test-results">
                <div class="status info">è¯·åœ¨ä¸Šæ–¹iframeæˆ–æ–°çª—å£ä¸­æµ‹è¯•å¯¼èˆªåŠŸèƒ½</div>
            </div>
        </div>
        
        <div class="test-section">
            <h3>ğŸ”§ æµ‹è¯•æŒ‡å—</h3>
            <ol>
                <li><strong>åº•éƒ¨å¯¼èˆªæµ‹è¯•</strong>ï¼šåœ¨iframeä¸­ç‚¹å‡»åº•éƒ¨å¯¼èˆªæ çš„å„ä¸ªé€‰é¡¹</li>
                <li><strong>é¡µé¢è·³è½¬æµ‹è¯•</strong>ï¼šç‚¹å‡»é¡µé¢å†…çš„å„ç§é“¾æ¥å’ŒæŒ‰é’®</li>
                <li><strong>è®¤è¯æµç¨‹æµ‹è¯•</strong>ï¼šå°è¯•è®¿é—®éœ€è¦ç™»å½•çš„é¡µé¢ï¼Œæ£€æŸ¥æ˜¯å¦æ­£ç¡®é‡å®šå‘</li>
                <li><strong>è¿”å›åŠŸèƒ½æµ‹è¯•</strong>ï¼šä½¿ç”¨æµè§ˆå™¨çš„è¿”å›æŒ‰é’®</li>
                <li><strong>ç›´æ¥è®¿é—®æµ‹è¯•</strong>ï¼šä½¿ç”¨ä¸Šæ–¹çš„ç›´æ¥é“¾æ¥æµ‹è¯•å„ä¸ªé¡µé¢</li>
            </ol>
            
            <h4>é¢„æœŸç»“æœï¼š</h4>
            <ul>
                <li>âœ… åº•éƒ¨å¯¼èˆªæ ç‚¹å‡»åº”è¯¥èƒ½æ­£å¸¸åˆ‡æ¢é¡µé¢</li>
                <li>âœ… é¡µé¢å†…é“¾æ¥å’ŒæŒ‰é’®åº”è¯¥æœ‰å“åº”</li>
                <li>âœ… æœªç™»å½•æ—¶è®¿é—®éœ€è¦è®¤è¯çš„é¡µé¢åº”è¯¥é‡å®šå‘åˆ°ç™»å½•é¡µ</li>
                <li>âœ… å·²ç™»å½•æ—¶è®¿é—®ç™»å½•é¡µåº”è¯¥é‡å®šå‘åˆ°é¦–é¡µ</li>
                <li>âœ… æ‰€æœ‰é¡µé¢åº”è¯¥èƒ½æ­£å¸¸åŠ è½½å’Œæ˜¾ç¤º</li>
            </ul>
        </div>
    </div>

    <script>
        // ç›‘å¬iframeåŠ è½½çŠ¶æ€
        const iframe = document.getElementById('app-frame');
        const testResults = document.getElementById('test-results');
        
        iframe.onload = function() {
            addStatus('info', 'âœ… åº”ç”¨iframeåŠ è½½å®Œæˆï¼Œå¯ä»¥å¼€å§‹æµ‹è¯•å¯¼èˆªåŠŸèƒ½');
        };
        
        iframe.onerror = function() {
            addStatus('error', 'âŒ åº”ç”¨iframeåŠ è½½å¤±è´¥ï¼Œè¯·æ£€æŸ¥å¼€å‘æœåŠ¡å™¨æ˜¯å¦æ­£å¸¸è¿è¡Œ');
        };
        
        function addStatus(type, message) {
            const statusDiv = document.createElement('div');
            statusDiv.className = `status ${type}`;
            statusDiv.textContent = `[${new Date().toLocaleTimeString()}] ${message}`;
            testResults.appendChild(statusDiv);
        }
        
        // æ£€æµ‹ç”¨æˆ·äº¤äº’
        let interactionCount = 0;
        iframe.addEventListener('load', function() {
            try {
                const iframeDoc = iframe.contentDocument || iframe.contentWindow.document;
                
                // ç›‘å¬iframeå†…çš„ç‚¹å‡»äº‹ä»¶
                iframeDoc.addEventListener('click', function(e) {
                    interactionCount++;
                    if (interactionCount <= 5) {
                        addStatus('success', `âœ… æ£€æµ‹åˆ°ç‚¹å‡»äº¤äº’ #${interactionCount} - å¯¼èˆªåŠŸèƒ½æ­£å¸¸`);
                    }
                });
                
                // æ£€æŸ¥è·¯ç”±å˜åŒ–
                let currentHash = iframe.contentWindow.location.hash;
                setInterval(function() {
                    if (iframe.contentWindow.location.hash !== currentHash) {
                        currentHash = iframe.contentWindow.location.hash;
                        addStatus('success', `âœ… è·¯ç”±å˜åŒ–æ£€æµ‹: ${currentHash}`);
                    }
                }, 1000);
                
            } catch (error) {
                // è·¨åŸŸé™åˆ¶ï¼Œæ— æ³•è®¿é—®iframeå†…å®¹
                console.log('ç”±äºè·¨åŸŸé™åˆ¶ï¼Œæ— æ³•ç›´æ¥ç›‘æ§iframeå†…çš„äº¤äº’');
            }
        });
        
        // é¡µé¢åŠ è½½å®Œæˆåçš„åˆå§‹åŒ–
        window.addEventListener('load', function() {
            addStatus('info', 'ğŸš€ å¯¼èˆªæµ‹è¯•é¡µé¢åŠ è½½å®Œæˆ');
            
            // æ£€æŸ¥å¼€å‘æœåŠ¡å™¨çŠ¶æ€
            fetch('/').then(response => {
                if (response.ok) {
                    addStatus('success', 'âœ… å¼€å‘æœåŠ¡å™¨è¿è¡Œæ­£å¸¸');
                } else {
                    addStatus('error', 'âŒ å¼€å‘æœåŠ¡å™¨å“åº”å¼‚å¸¸');
                }
            }).catch(error => {
                addStatus('error', 'âŒ æ— æ³•è¿æ¥åˆ°å¼€å‘æœåŠ¡å™¨');
            });
        });
    </script>
</body>
</html>