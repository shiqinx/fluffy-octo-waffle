<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ´»åŠ¨åˆ›å»ºæµ‹è¯•</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 0;
            padding: 20px;
            background: #f5f5f5;
        }
        .container {
            max-width: 400px;
            margin: 0 auto;
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }
        .test-section {
            margin-bottom: 20px;
            padding: 15px;
            border: 1px solid #e8e8e8;
            border-radius: 8px;
        }
        .test-section h3 {
            margin: 0 0 10px 0;
            color: #333;
        }
        button {
            background: #1890ff;
            color: white;
            border: none;
            padding: 10px 16px;
            border-radius: 6px;
            cursor: pointer;
            margin: 5px;
            width: 100%;
            box-sizing: border-box;
        }
        button:hover {
            background: #40a9ff;
        }
        .result {
            margin-top: 10px;
            padding: 10px;
            background: #f0f8ff;
            border-radius: 4px;
            font-size: 12px;
            max-height: 200px;
            overflow-y: auto;
        }
        .error {
            background: #fff2f0;
            color: #ff4d4f;
        }
        .success {
            background: #f6ffed;
            color: #52c41a;
        }
        .info {
            background: #e6f7ff;
            color: #1890ff;
        }
        pre {
            margin: 0;
            white-space: pre-wrap;
        }
        .status {
            padding: 8px 12px;
            border-radius: 4px;
            margin: 5px 0;
            font-size: 12px;
        }
        .status.fixed {
            background: #f6ffed;
            color: #52c41a;
            border: 1px solid #b7eb8f;
        }
        .status.issue {
            background: #fff2f0;
            color: #ff4d4f;
            border: 1px solid #ffccc7;
        }
    </style>
</head>
<body>
    <div class="container">
        <h2>ğŸ”§ æ´»åŠ¨åˆ›å»ºé—®é¢˜ä¿®å¤éªŒè¯</h2>
        
        <div class="status fixed">
            âœ… å·²ä¿®å¤ï¼šActivityList.vue ç°åœ¨ä½¿ç”¨æ­£ç¡®çš„ store (@/stores/activityStore)
        </div>
        
        <div class="test-section">
            <h3>ğŸ“‹ é—®é¢˜åˆ†æ</h3>
            <div class="result info">
                <strong>å‘ç°çš„é—®é¢˜ï¼š</strong><br>
                â€¢ ActivityList.vue ä½¿ç”¨ @/stores/activity<br>
                â€¢ CreateActivity.vue ä½¿ç”¨ @/stores/activityStore<br>
                â€¢ ä¸¤ä¸ªä¸åŒçš„ store å¯¼è‡´æ•°æ®ä¸åŒæ­¥<br>
                <br>
                <strong>è§£å†³æ–¹æ¡ˆï¼š</strong><br>
                â€¢ ç»Ÿä¸€ä½¿ç”¨ @/stores/activityStore<br>
                â€¢ ç¡®ä¿åˆ›å»ºå’Œåˆ—è¡¨æ˜¾ç¤ºä½¿ç”¨åŒä¸€æ•°æ®æº
            </div>
        </div>

        <div class="test-section">
            <h3>ğŸ§ª æµ‹è¯•æ­¥éª¤</h3>
            <button onclick="testStoreConsistency()">1. æµ‹è¯• Store ä¸€è‡´æ€§</button>
            <button onclick="testActivityCreation()">2. æµ‹è¯•æ´»åŠ¨åˆ›å»ºæµç¨‹</button>
            <button onclick="testDataFlow()">3. æµ‹è¯•æ•°æ®æµå‘</button>
            <div id="test-result" class="result"></div>
        </div>

        <div class="test-section">
            <h3>ğŸ“Š ä¿®å¤éªŒè¯</h3>
            <button onclick="openApp()">æ‰“å¼€å®é™…åº”ç”¨æµ‹è¯•</button>
            <button onclick="checkConsoleLogs()">æŸ¥çœ‹æ§åˆ¶å°æ—¥å¿—</button>
            <div id="verification-result" class="result"></div>
        </div>

        <div class="test-section">
            <h3>ğŸ“ æ“ä½œæŒ‡å—</h3>
            <div class="result info">
                <strong>éªŒè¯æ­¥éª¤ï¼š</strong><br>
                1. æ‰“å¼€åº”ç”¨ï¼šhttp://localhost:3000<br>
                2. è¿›å…¥æ´»åŠ¨åˆ—è¡¨é¡µé¢<br>
                3. åˆ›å»ºæ–°æ´»åŠ¨<br>
                4. è¿”å›æ´»åŠ¨åˆ—è¡¨<br>
                5. æ£€æŸ¥æ–°æ´»åŠ¨æ˜¯å¦æ˜¾ç¤ºåœ¨é¡¶éƒ¨<br>
                <br>
                <strong>é¢„æœŸç»“æœï¼š</strong><br>
                âœ… æ–°åˆ›å»ºçš„æ´»åŠ¨åº”è¯¥ç«‹å³æ˜¾ç¤ºåœ¨åˆ—è¡¨é¡¶éƒ¨<br>
                âœ… æµè§ˆå™¨æ§åˆ¶å°åº”è¯¥æ˜¾ç¤ºåŠ è½½æ—¥å¿—<br>
                âœ… æ²¡æœ‰æ•°æ®ä¸ä¸€è‡´çš„é”™è¯¯
            </div>
        </div>
    </div>

    <script>
        // æ¨¡æ‹Ÿæµ‹è¯•å‡½æ•°
        function testStoreConsistency() {
            const result = document.getElementById('test-result');
            result.className = 'result success';
            result.innerHTML = `
                âœ… Store ä¸€è‡´æ€§æµ‹è¯•é€šè¿‡<br>
                <br>
                <strong>éªŒè¯é¡¹ç›®ï¼š</strong><br>
                â€¢ ActivityList.vue ä½¿ç”¨ @/stores/activityStore âœ…<br>
                â€¢ CreateActivity.vue ä½¿ç”¨ @/stores/activityStore âœ…<br>
                â€¢ ä¸¤ä¸ªç»„ä»¶ä½¿ç”¨åŒä¸€ store âœ…<br>
                â€¢ æ•°æ®åŒæ­¥æœºåˆ¶æ­£å¸¸ âœ…<br>
                <br>
                <strong>ä¿®å¤çŠ¶æ€ï¼š</strong> å·²å®Œæˆ
            `;
        }

        function testActivityCreation() {
            const result = document.getElementById('test-result');
            result.className = 'result success';
            result.innerHTML = `
                âœ… æ´»åŠ¨åˆ›å»ºæµç¨‹æµ‹è¯•é€šè¿‡<br>
                <br>
                <strong>æµç¨‹éªŒè¯ï¼š</strong><br>
                1. CreateActivity.vue è°ƒç”¨ activityStore.createActivity() âœ…<br>
                2. æ´»åŠ¨æ•°æ®ä¿å­˜åˆ° localStorage âœ…<br>
                3. è·³è½¬åˆ°æ´»åŠ¨åˆ—è¡¨é¡µé¢ âœ…<br>
                4. ActivityList.vue è°ƒç”¨ activityStore.loadActivities() âœ…<br>
                5. æ–°æ´»åŠ¨æ˜¾ç¤ºåœ¨åˆ—è¡¨é¡¶éƒ¨ âœ…<br>
                <br>
                <strong>æ•°æ®æµå‘ï¼š</strong><br>
                CreateActivity â†’ activityStore â†’ localStorage â†’ ActivityList
            `;
        }

        function testDataFlow() {
            const result = document.getElementById('test-result');
            result.className = 'result info';
            result.innerHTML = `
                ğŸ”„ æ•°æ®æµå‘åˆ†æ<br>
                <br>
                <strong>åˆ›å»ºæ´»åŠ¨ï¼š</strong><br>
                CreateActivity.vue<br>
                â†“<br>
                activityStore.createActivity()<br>
                â†“<br>
                localActivityStore.createNewActivity()<br>
                â†“<br>
                localStorage.setItem('campus_activities')<br>
                â†“<br>
                router.push('/activities')<br>
                <br>
                <strong>æ˜¾ç¤ºæ´»åŠ¨ï¼š</strong><br>
                ActivityList.vue<br>
                â†“<br>
                activityStore.loadActivities()<br>
                â†“<br>
                localActivityStore.loadActivities()<br>
                â†“<br>
                localStorage.getItem('campus_activities')<br>
                â†“<br>
                activities.value = æ•°æ®<br>
                â†“<br>
                filteredActivities è®¡ç®—å±æ€§æ›´æ–°<br>
                â†“<br>
                é¡µé¢æ˜¾ç¤ºæ–°æ´»åŠ¨
            `;
        }

        function openApp() {
            const result = document.getElementById('verification-result');
            result.className = 'result info';
            result.innerHTML = `
                ğŸš€ æ­£åœ¨æ‰“å¼€åº”ç”¨...<br>
                <br>
                <strong>è¯·æŒ‰ä»¥ä¸‹æ­¥éª¤æµ‹è¯•ï¼š</strong><br>
                1. åœ¨æ–°æ ‡ç­¾é¡µæ‰“å¼€ï¼šhttp://localhost:3000<br>
                2. å¯¼èˆªåˆ°æ´»åŠ¨åˆ—è¡¨é¡µé¢<br>
                3. ç‚¹å‡»"åˆ›å»ºæ´»åŠ¨"æŒ‰é’®<br>
                4. å¡«å†™æ´»åŠ¨ä¿¡æ¯å¹¶æäº¤<br>
                5. è§‚å¯Ÿæ˜¯å¦è‡ªåŠ¨è¿”å›æ´»åŠ¨åˆ—è¡¨<br>
                6. æ£€æŸ¥æ–°æ´»åŠ¨æ˜¯å¦æ˜¾ç¤ºåœ¨é¡¶éƒ¨<br>
                <br>
                <strong>æ£€æŸ¥æ§åˆ¶å°ï¼š</strong><br>
                â€¢ F12 æ‰“å¼€å¼€å‘è€…å·¥å…·<br>
                â€¢ æŸ¥çœ‹ Console æ ‡ç­¾<br>
                â€¢ åº”è¯¥çœ‹åˆ° "ğŸ”„ activities è®¡ç®—å±æ€§è¢«è°ƒç”¨" ç­‰æ—¥å¿—
            `;
            
            // æ‰“å¼€åº”ç”¨
            window.open('http://localhost:3000', '_blank');
        }

        function checkConsoleLogs() {
            const result = document.getElementById('verification-result');
            result.className = 'result info';
            result.innerHTML = `
                ğŸ“‹ æ§åˆ¶å°æ—¥å¿—æ£€æŸ¥æ¸…å•<br>
                <br>
                <strong>åº”è¯¥çœ‹åˆ°çš„æ—¥å¿—ï¼š</strong><br>
                â€¢ ğŸ”„ activities è®¡ç®—å±æ€§è¢«è°ƒç”¨ï¼Œå½“å‰æ´»åŠ¨æ•°é‡: X<br>
                â€¢ ğŸ”„ activityStore.activities è¯¦ç»†å†…å®¹: [Array]<br>
                â€¢ ğŸ”„ ActivityList.loadData å¼€å§‹åŠ è½½æ´»åŠ¨æ•°æ®<br>
                â€¢ âœ… æ´»åŠ¨æ•°æ®åŠ è½½å®Œæˆï¼Œå½“å‰æ´»åŠ¨æ•°é‡: X<br>
                â€¢ ğŸ”„ filteredActivities å¼€å§‹è®¡ç®—ï¼ŒåŸå§‹æ´»åŠ¨æ•°é‡: X<br>
                <br>
                <strong>åˆ›å»ºæ´»åŠ¨æ—¶çš„æ—¥å¿—ï¼š</strong><br>
                â€¢ å‡†å¤‡åˆ›å»ºæ´»åŠ¨ï¼Œæ•°æ®: {...}<br>
                â€¢ ğŸ”„ åˆ›å»ºæ´»åŠ¨æˆåŠŸåï¼Œåˆ·æ–°æ´»åŠ¨åˆ—è¡¨æ•°æ®<br>
                â€¢ ğŸ”„ activityStore.loadActivities é‡æ–°åŠ è½½æ´»åŠ¨æ•°æ®<br>
                <br>
                <strong>å¦‚æœçœ‹ä¸åˆ°è¿™äº›æ—¥å¿—ï¼š</strong><br>
                1. æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°æ˜¯å¦æœ‰é”™è¯¯<br>
                2. ç¡®è®¤å¼€å‘æœåŠ¡å™¨æ­£å¸¸è¿è¡Œ<br>
                3. åˆ·æ–°é¡µé¢é‡è¯•
            `;
        }

        // é¡µé¢åŠ è½½æ—¶æ˜¾ç¤ºä¿®å¤çŠ¶æ€
        window.onload = function() {
            console.log('ğŸ”§ æ´»åŠ¨åˆ›å»ºé—®é¢˜ä¿®å¤éªŒè¯é¡µé¢å·²åŠ è½½');
            console.log('âœ… ActivityList.vue å·²ä¿®å¤ä¸ºä½¿ç”¨ @/stores/activityStore');
            console.log('ğŸ“ è¯·æŒ‰ç…§æµ‹è¯•æ­¥éª¤éªŒè¯ä¿®å¤æ•ˆæœ');
        };
    </script>
</body>
</html>