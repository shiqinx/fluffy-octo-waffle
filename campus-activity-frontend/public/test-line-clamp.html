<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Line Clamp å…¼å®¹æ€§æµ‹è¯•</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
        }
        
        .test-section {
            margin: 30px 0;
            padding: 20px;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
        }
        
        .test-title {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 15px;
            color: #333;
        }
        
        .test-content {
            background: #f5f5f5;
            padding: 15px;
            border-radius: 4px;
            margin-bottom: 10px;
        }
        
        /* å¯¼å…¥é¡¹ç›®çš„ line-clamp æ ·å¼ */
        .text-ellipsis-2 {
            display: -webkit-box;
            display: box;
            -webkit-line-clamp: 2;
            line-clamp: 2;
            -webkit-box-orient: vertical;
            box-orient: vertical;
            overflow: hidden;
        }
        
        .text-ellipsis-3 {
            display: -webkit-box;
            display: box;
            -webkit-line-clamp: 3;
            line-clamp: 3;
            -webkit-box-orient: vertical;
            box-orient: vertical;
            overflow: hidden;
        }
        
        .line-clamp-1 {
            display: -webkit-box;
            display: box;
            -webkit-line-clamp: 1;
            line-clamp: 1;
            -webkit-box-orient: vertical;
            box-orient: vertical;
            overflow: hidden;
        }
        
        .line-clamp-4 {
            display: -webkit-box;
            display: box;
            -webkit-line-clamp: 4;
            line-clamp: 4;
            -webkit-box-orient: vertical;
            box-orient: vertical;
            overflow: hidden;
        }
        
        .browser-info {
            background: #e8f4fd;
            padding: 10px;
            border-radius: 4px;
            margin-bottom: 20px;
            font-size: 14px;
        }
        
        .comparison {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }
        
        .old-method, .new-method {
            padding: 15px;
            border-radius: 4px;
        }
        
        .old-method {
            background: #fff2f0;
            border: 1px solid #ffccc7;
        }
        
        .new-method {
            background: #f6ffed;
            border: 1px solid #b7eb8f;
        }
        
        .method-title {
            font-weight: bold;
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
    <h1>ğŸ¯ Line Clamp å…¼å®¹æ€§æµ‹è¯•é¡µé¢</h1>
    
    <div class="browser-info">
        <strong>æµè§ˆå™¨ä¿¡æ¯ï¼š</strong>
        <div id="browser-info"></div>
    </div>
    
    <div class="test-section">
        <div class="test-title">ğŸ“ æµ‹è¯•æ–‡æœ¬</div>
        <div class="test-content">
            <p id="long-text">
                è¿™æ˜¯ä¸€æ®µç”¨äºæµ‹è¯• line-clamp åŠŸèƒ½çš„é•¿æ–‡æœ¬ã€‚å®ƒåŒ…å«äº†è¶³å¤Ÿçš„å†…å®¹æ¥æ¼”ç¤ºæ–‡æœ¬æˆªæ–­çš„æ•ˆæœã€‚
                åœ¨ç°ä»£ç½‘é¡µå¼€å‘ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸éœ€è¦é™åˆ¶æ–‡æœ¬æ˜¾ç¤ºçš„è¡Œæ•°ï¼Œä»¥ä¿æŒé¡µé¢çš„æ•´æ´å’Œç¾è§‚ã€‚
                é€šè¿‡ä½¿ç”¨ CSS çš„ line-clamp å±æ€§ï¼Œæˆ‘ä»¬å¯ä»¥è½»æ¾åœ°å®ç°è¿™ä¸ªåŠŸèƒ½ã€‚ç°åœ¨è¿™æ®µæ–‡æœ¬åº”è¯¥ä¼šè¢«æˆªæ–­ï¼Œ
                ä½ çœ‹ä¸åˆ°è¿™æ®µè¯çš„å®Œæ•´å†…å®¹ï¼Œå› ä¸º line-clamp ä¼šé™åˆ¶æ˜¾ç¤ºçš„è¡Œæ•°ã€‚
                è¿™ä¸ªæµ‹è¯•é¡µé¢å±•ç¤ºäº†ä¸åŒè¡Œæ•°æˆªæ–­çš„æ•ˆæœï¼Œä»¥åŠæ–°æ—§æ–¹æ³•çš„å¯¹æ¯”ã€‚
            </p>
        </div>
    </div>
    
    <div class="test-section">
        <div class="test-title">ğŸ”§ æ–¹æ³•å¯¹æ¯”</div>
        <div class="comparison">
            <div class="old-method">
                <div class="method-title">âŒ æ—§æ–¹æ³•ï¼ˆä»… WebKit å‰ç¼€ï¼‰</div>
                <div style="display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden;">
                    è¿™æ˜¯ä¸€æ®µä½¿ç”¨æ—§æ–¹æ³•çš„æ–‡æœ¬ã€‚å®ƒåªä½¿ç”¨äº† -webkit-line-clamp å±æ€§ï¼Œåœ¨æŸäº›é WebKit å†…æ ¸çš„æµè§ˆå™¨ä¸­å¯èƒ½æ— æ³•æ­£å¸¸å·¥ä½œã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦æ·»åŠ æ ‡å‡†å±æ€§æ¥æé«˜å…¼å®¹æ€§çš„åŸå› ã€‚
                </div>
            </div>
            <div class="new-method">
                <div class="method-title">âœ… æ–°æ–¹æ³•ï¼ˆæ ‡å‡† + å‰ç¼€ï¼‰</div>
                <div class="text-ellipsis-2">
                    è¿™æ˜¯ä¸€æ®µä½¿ç”¨æ–°æ–¹æ³•çš„æ–‡æœ¬ã€‚å®ƒåŒæ—¶åŒ…å«äº†æ ‡å‡†å±æ€§å’Œ WebKit å‰ç¼€ï¼Œèƒ½å¤Ÿåœ¨æ›´å¤šæµè§ˆå™¨ä¸­æ­£å¸¸å·¥ä½œã€‚è¿™å°±æ˜¯æˆ‘ä»¬åˆšæ‰å®ç°çš„å…¼å®¹æ€§æ”¹è¿›ã€‚
                </div>
            </div>
        </div>
    </div>
    
    <div class="test-section">
        <div class="test-title">ğŸ¨ ä¸åŒè¡Œæ•°æˆªæ–­æ•ˆæœ</div>
        
        <h3>1è¡Œæˆªæ–­ (.line-clamp-1)</h3>
        <div class="test-content">
            <div class="line-clamp-1">
                è¿™æ˜¯ä¸€æ®µç”¨äºæµ‹è¯•1è¡Œæˆªæ–­çš„æ–‡æœ¬ã€‚æ— è®ºè¿™æ®µæ–‡æœ¬æœ‰å¤šé•¿ï¼Œå®ƒéƒ½åªä¼šæ˜¾ç¤ºä¸€è¡Œï¼Œè¶…å‡ºçš„éƒ¨åˆ†ä¼šè¢«çœç•¥å·æ›¿ä»£ã€‚
            </div>
        </div>
        
        <h3>2è¡Œæˆªæ–­ (.text-ellipsis-2)</h3>
        <div class="test-content">
            <div class="text-ellipsis-2">
                è¿™æ˜¯ä¸€æ®µç”¨äºæµ‹è¯•2è¡Œæˆªæ–­çš„æ–‡æœ¬ã€‚å®ƒå¯ä»¥æ˜¾ç¤ºä¸¤è¡Œå†…å®¹ï¼Œè¶…å‡ºçš„éƒ¨åˆ†ä¼šè¢«çœç•¥å·æ›¿ä»£ã€‚
                è¿™ç§æ–¹å¼åœ¨å¡ç‰‡æè¿°ã€æ¶ˆæ¯é¢„è§ˆç­‰åœºæ™¯ä¸­éå¸¸å¸¸è§ï¼Œèƒ½å¤Ÿæä¾›è¶³å¤Ÿçš„ä¿¡æ¯åŒæ—¶ä¿æŒç•Œé¢çš„æ•´æ´ã€‚
            </div>
        </div>
        
        <h3>3è¡Œæˆªæ–­ (.text-ellipsis-3)</h3>
        <div class="test-content">
            <div class="text-ellipsis-3">
                è¿™æ˜¯ä¸€æ®µç”¨äºæµ‹è¯•3è¡Œæˆªæ–­çš„æ–‡æœ¬ã€‚å®ƒå¯ä»¥æ˜¾ç¤ºä¸‰è¡Œå†…å®¹ï¼Œé€‚åˆç”¨äºè¾ƒé•¿çš„æè¿°æ–‡æœ¬ã€‚
                åœ¨æˆ‘ä»¬çš„é¡¹ç›®ä¸­ï¼Œæ´»åŠ¨è¯¦æƒ…ã€å›¢é˜Ÿä»‹ç»ç­‰åœ°æ–¹å¯èƒ½ä¼šä½¿ç”¨è¿™ç§æˆªæ–­æ–¹å¼ã€‚
                ä¸‰è¡Œé€šå¸¸èƒ½å¤Ÿæä¾›è¶³å¤Ÿçš„ä¿¡æ¯ï¼ŒåŒæ—¶åˆä¸ä¼šå ç”¨è¿‡å¤šçš„å±å¹•ç©ºé—´ã€‚
            </div>
        </div>
        
        <h3>4è¡Œæˆªæ–­ (.line-clamp-4)</h3>
        <div class="test-content">
            <div class="line-clamp-4">
                è¿™æ˜¯ä¸€æ®µç”¨äºæµ‹è¯•4è¡Œæˆªæ–­çš„æ–‡æœ¬ã€‚å®ƒå¯ä»¥æ˜¾ç¤ºå››è¡Œå†…å®¹ï¼Œé€‚åˆç”¨äºæ›´é•¿çš„æè¿°æ–‡æœ¬ã€‚
                åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯èƒ½éœ€è¦æ˜¾ç¤ºæ›´å¤šçš„ä¿¡æ¯ï¼Œä½†åˆä¸æƒ³å®Œå…¨å±•ç¤ºæ‰€æœ‰å†…å®¹ã€‚
                å››è¡Œæˆªæ–­æä¾›äº†ä¸€ä¸ªå¾ˆå¥½çš„å¹³è¡¡ç‚¹ï¼Œæ—¢èƒ½å±•ç¤ºè¶³å¤Ÿçš„ä¿¡æ¯ï¼Œåˆèƒ½ä¿æŒé¡µé¢çš„ç´§å‡‘æ€§ã€‚
                è¿™ç§æ–¹å¼åœ¨æ–‡ç« æ‘˜è¦ã€äº§å“æè¿°ç­‰åœºæ™¯ä¸­éå¸¸æœ‰ç”¨ã€‚
            </div>
        </div>
    </div>
    
    <div class="test-section">
        <div class="test-title">ğŸŒ å…¼å®¹æ€§æ£€æµ‹</div>
        <div id="compatibility-info"></div>
    </div>
    
    <script>
        // æ˜¾ç¤ºæµè§ˆå™¨ä¿¡æ¯
        function showBrowserInfo() {
            const info = document.getElementById('browser-info');
            const userAgent = navigator.userAgent;
            const isWebKit = userAgent.includes('WebKit');
            const isFirefox = userAgent.includes('Firefox');
            const isChrome = userAgent.includes('Chrome');
            const isSafari = userAgent.includes('Safari') && !isChrome;
            
            info.innerHTML = `
                <div><strong>User Agent:</strong> ${userAgent}</div>
                <div><strong>WebKit å†…æ ¸:</strong> ${isWebKit ? 'âœ… æ˜¯' : 'âŒ å¦'}</div>
                <div><strong>Firefox:</strong> ${isFirefox ? 'âœ… æ˜¯' : 'âŒ å¦'}</div>
                <div><strong>Chrome:</strong> ${isChrome ? 'âœ… æ˜¯' : 'âŒ å¦'}</div>
                <div><strong>Safari:</strong> ${isSafari ? 'âœ… æ˜¯' : 'âŒ å¦'}</div>
            `;
        }
        
        // æ£€æµ‹ line-clamp æ”¯æŒ
        function checkLineClampSupport() {
            const compatibility = document.getElementById('compatibility-info');
            const testElement = document.createElement('div');
            
            // æ£€æµ‹æ ‡å‡†å±æ€§æ”¯æŒ
            const supportsLineClamp = 'lineClamp' in testElement.style || 
                                     CSS.supports('line-clamp', '2') ||
                                     CSS.supports('-webkit-line-clamp', '2');
            
            // æ£€æµ‹ box-orient æ”¯æŒ
            const supportsBoxOrient = CSS.supports('box-orient', 'vertical') ||
                                     CSS.supports('-webkit-box-orient', 'vertical');
            
            compatibility.innerHTML = `
                <div style="margin-bottom: 10px;">
                    <strong>æ ‡å‡† line-clamp æ”¯æŒ:</strong> ${supportsLineClamp ? 'âœ… æ”¯æŒ' : 'âŒ ä¸æ”¯æŒ'}
                </div>
                <div style="margin-bottom: 10px;">
                    <strong>box-orient æ”¯æŒ:</strong> ${supportsBoxOrient ? 'âœ… æ”¯æŒ' : 'âŒ ä¸æ”¯æŒ'}
                </div>
                <div style="margin-bottom: 10px;">
                    <strong>CSS.supports() æ–¹æ³•:</strong> ${typeof CSS.supports === 'function' ? 'âœ… æ”¯æŒ' : 'âŒ ä¸æ”¯æŒ'}
                </div>
                <div>
                    <strong>æ¨èä½¿ç”¨:</strong> ${supportsLineClamp ? 'æ ‡å‡†å±æ€§ + å‰ç¼€' : 'ä»…å‰ç¼€ + å¤‡ç”¨æ–¹æ¡ˆ'}
                </div>
            `;
        }
        
        // é¡µé¢åŠ è½½å®Œæˆåæ‰§è¡Œ
        document.addEventListener('DOMContentLoaded', function() {
            showBrowserInfo();
            checkLineClampSupport();
        });
    </script>
</body>
</html>